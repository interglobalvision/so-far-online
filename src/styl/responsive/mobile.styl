$gutter = 20px

$margin-micro = ($gutter / 3)
$margin-tiny = ($gutter / 2)
$margin-small = ($gutter)
$margin-basic = ($gutter * 2)
$margin-mid = ($gutter * 3.5)
$margin-large = ($gutter * 5)

$font-size-extra = 32px
$font-size-large = 24px
$font-size-mid = 16px
$font-size-basic = 13px
$font-size-small = 11px
$font-size-tiny = 10px

grid-maker(100%, $gutter, s)

space-maker($margin-micro, $margin-tiny, $margin-small, $margin-basic, $margin-mid, $margin-large)

font-sizes($font-size-basic, $font-size-extra, $font-size-large, $font-size-mid, $font-size-small, $font-size-tiny)

$header-height = 49px
$footer-height = 334px
$shop-toggle-height = 42px
$shop-menu-holder-offset = $header-height + $shop-toggle-height

.desktop-only
  display: none !important

.u-inline
  display: inline

#dissolve
  position: fixed
  top: 0
  right: 0
  bottom: 0
  left: 0
  width: 100vw
  height: 100vh
  z-index: 1000
  background-color: $color-pink
  pointer-events: none

#main-container
  padding-top: $header-height

.container
  max-width: 1440px

.background-pale
  background-color: $color-pale

.background-pink
  background-color: $color-pink

.background-white
  background-color: $color-white

.font-color-pink
  color: $color-pink

.font-color-pale
  color: $color-pale

.font-color-blush
  color: $color-blush

.font-size-zero
  font-size: 0

.border
  background: $color-grey-dark
  height: 1px

.border-top
  border-top: 1px solid $color-grey-dark

.border-bottom
  border-bottom: 1px solid $color-grey-dark

figure
  margin: 0

figcaption
  font-size: $font-size-small
  width: 80%
  color: $color-grey-dark
  text-align: center
  margin: .5em 0 1em 10%
  strong
    color: $color-black
  p
    color: $color-grey-dark
    strong
      color: $color-black

body
  overflow-x: hidden
  &.nav-open
    #mobile-nav
      transform: translateY(0)
      opacity: 1
      pointer-events: auto
    #header
      &.nav-up
        top: 0
  &.overlay-open
    #overlay-gallery
      opacity: 1
      pointer-events: auto
  &.search-open
    #fixed-search-holder
      transform: translateY(0)
    #fixed-search-underlay
      opacity: .65
      pointer-events: auto
  &.page-incubator,
  &.single-diary
    color: $color-white
    background-color: $color-black
    #header,
    #footer,
    #fixed-search-holder
      background-color: $color-black
    button
      color: $color-white
    .nav-item-active
      border-bottom-color: $color-white
    .social-icon
      display: none
      &.social-icon-white
        display: block
    .header-icon
      display: none
      &.header-icon-white
        display: block
    #logo
      filter: brightness(2)
    #mobile-nav
      background-color: $color-black
      color: $color-white
    input
      color: $color-white
      &[type="checkbox"]:checked:after
        color: $color-white
    #article-content
      color: $color-white

img,
.thumb
  opacity: 0
  will-change: opacity
  transition: opacity .3s ease-in-out
  &.fade-in
    opacity: 1

#header
  background-color: $color-pink
  border-bottom: 1px solid $color-grey-dark
  position: fixed
  top: 0
  width: 100%
  transition: top 0.2s ease-in-out
  will-change: top
  z-index: 300
  &.nav-up
    top: -($header-height)

#fixed-search-holder
  width: 100%
  height: auto
  top: $header-height
  left: 0
  position: fixed
  z-index: 200
  transition: transform 0.2s ease-in-out
  will-change: transform
  transform: translateY(-100% - 1px - $header-height)
  border-bottom: 1px solid $color-grey-dark
  background-color: $color-pink

#fixed-search-underlay
  width: 100%
  height: 100%
  top: 0
  left: 0
  position: fixed
  z-index: 200
  opacity: 0
  transition: opacity 0.2s ease-in-out
  will-change: opacity
  background: $color-black
  pointer-events: none

#logo
  height: 28px
  width: auto

.header-icon
  height: 21px
  &.header-icon-white
    display: none

.header-bag-holder
  position: relative

.header-bag-count
  padding: .1em .2em
  border-radius: 100%
  background: $color-pink
  border: 2px solid $color-black
  display: flex
  justify-content: center
  align-items: center
  text-align: center
  font-weight: 500
  position: absolute
  bottom: 0
  right: 0
  pointer-events: none

#mobile-nav
  position: fixed
  top: 0
  padding-top: $header-height
  width: 100%
  z-index: 200
  background-color: $color-pink
  border-bottom: 1px solid $color-grey-dark
  transform: translateY(-10%)
  opacity: 0
  transition: opacity .3s ease-in-out, transform .5s ease-in-out
  will-change: transform, opacity
  max-height: 100vh
  overflow-y: scroll
  pointer-events: none

.nav-item-active
  border-bottom: 2px solid $color-black

/*#shop-menu
  height: 0
  overflow: hidden*/

#shop-menu
  position: relative
  z-index: 50
  &.open
    #shop-menu-holder
      opacity: 1
      transform: translateY(0%)
      pointer-events: auto

#shop-menu-toggle
  z-index: 50
  position: relative

#shop-menu-holder
  position: absolute
  top: 100%
  width: 100%
  opacity: 0
  transform: translateY(-10%)
  transition: opacity .3s ease-in-out, transform .5s ease-in-out
  will-change: opacity, transform
  pointer-events: none
  z-index: 0
  max-height: calc('100vh - ' + $shop-menu-holder-offset)
  overflow: scroll

.shop-sub-menu-trigger
  &.grid-item
    padding-left: 0
    padding-right: 0

.shop-menu-label
  margin-left: $margin-tiny
  margin-right: $margin-tiny
  font-weight: bold
  font-size: $font-size-mid

.shop-sub-menu
  padding-top: $margin-tiny

.shop-sort-option
  padding: 0
  &.active
    font-weight: bold
    &:hover
      color: $color-black
  &:focus
    text-decoration: none
    font-weight: bold
  &:hover
    color: $color-grey

.shop-filter-image
  display: none

/*.shop-sub-menu-item
  &.grid-item
    padding-left: 0
    padding-right: 0*/

#main-content
  min-height: calc('100vh - ' + ($header-height * 2))

#wp-_igv_featured_caption-wrap
  .mce-btn
    display: none

#main-container
  width: 100%

.swiper-container
  width: 100%
  &[data-swiper-type='scroll']
    width: calc('100% - ' + $margin-small)
    margin: 0 auto
    overflow: visible
    .swiper-slide
      width: 150px
      &:not(:first-child)
        padding-left: $margin-tiny
      &:not(:last-child)
        padding-right: $margin-tiny
  &[data-swiper-type='slide']
    .swiper-slide
      img
        pointer-events: none

.swiper-scrollbar
  height: 2px !important
  background-color: $color-grey

.swiper-scrollbar-drag
  height: 4px
  margin-top: -1px
  border-radius: 0
  background-color: $color-black

.slide-pagination-bullet
  width: 10px
  height: 10px
  display: inline-block
  border-radius: 100%
  background: transparent
  border: 1px solid $color-grey-dark
  margin: 0 5px
  cursor: pointer
  &.slide-pagination-bullet-active
    background: $color-grey
  &:focus
    outline: none
    border-color: $color-black

#overlay-gallery
  position: fixed
  top: 0
  left: 0
  width: 100vw
  height: 100vh
  z-index: 500
  background: rgba(255,255,255,.9)
  cursor: zoom-out
  opacity: 0
  pointer-events: none
  transition: opacity .7s ease-in-out
  will-change: opacity
  .swiper-container
    width: 80%
    height: 80%
    max-width: 1200px
    max-height: 900px
  .overlay-nav
    cursor: pointer
  img
    width: auto
    max-height: 100%
    cursor: default

.trigger-overlay
  cursor: zoom-in

#article-content
  font-size: $font-size-basic + 2px
  color: $color-black
  h2, h3, h4, h5, h6
    margin-bottom: 1rem
    font-size: $font-size-mid
    font-family: $font-serif
    font-weight: normal
  p
    font-family: $font-serif
    font-weight: 300
    line-height: 1.4
/*    &:first-of-type
      font-size: $font-size-mid
      margin-bottom: 4rem*/
  a
    text-decoration: underline !important
  ol
    list-style-type: decimal
  ul
    list-style-type: circle
  ul, ol
    margin-bottom: 1rem
    ul, ol
      margin-bottom: 0
  .wp-block-quote
    margin-top: 2rem
    margin-bottom: 2rem
    p
      width: 80%
      margin-left: 10%
      font-size: $font-size-basic + 2px
      &:last-of-type
        margin-bottom: 0
    cite
      width: 70%
      margin-left: 15%
      font-size: $font-size-small
      &:before
        content: 'â€”'
        padding: 0 .2rem
  .wp-block-pullquote
    p, cite
      font-family: $font-sans
      font-weight: normal
    p
      font-size: $font-size-large
    cite
      font-size: $font-size-basic
  .igv-block-image
    text-align: center
    padding-top: 3em
    padding-bottom: 3em
    img
      position: relative
    figure
      position: relative
      display: inline-block
      .trigger-overlay
        content: ''
        position: absolute
        width: 40px
        height: 40px
        top: 10px
        right: 10px
        display: block
        z-index: 1
        background-image: url('../img/icon-expand.png')
        background-size: contain
  .wp-block-embed
    padding-top: 3em
    padding-bottom: 3em
  .wp-block-embed-instagram,
  .wp-block-embed-twitter
    iframe,
    twitter-widget
      margin-left: auto !important
      margin-right: auto !important
  .wp-block-embed-soundcloud
    iframe
      max-width: none !important
      width: 100% !important
  .wp-block-embed-youtube,
  .wp-block-embed-vimeo
    .wp-block-embed__wrapper
      position: relative
      padding-bottom: 56.25%
      height: 0
      overflow: hidden
      max-width: 100%
      iframe, object, embed
        position: absolute
        top: 0
        left: 0
        width: 100%
        height: 100%

ol
  list-style-type: decimal

#footer
  border-top: 1px solid $color-grey-dark
  background-color: $color-pale

#footer-form-holder
  order: 2

#footer-nav-holder
  order: 1

.form-grid-item
  padding-left: ($margin-micro / 2) !important
  padding-right: ($margin-micro / 2) !important
  &:first-of-type
    padding-left: 0 !important
  &:last-of-type
    padding-right: 0 !important

input
  appearance: none
  width: 100%
  border: 1px solid $color-grey
  padding: .8rem .4rem
  background: $color-grey
  background-image: radial-gradient(circle, $color-pale 0%, $color-grey 100%)
  text-align: center
  font-family: $font-sans
  font-weight: normal
  border-radius: 0
  &:focus
    outline: none
    background: $color-white
  +placeholder()
    text-align: center
    color: $color-grey-dark
  &.search-field
    background: none
    border: none
    border-bottom: 1px solid $color-grey-dark
    +placeholder()
      text-align: center
      color: $color-grey

input[type="checkbox"]
  background: transparent
  width: 2em
  height: 2em
  position: relative
  border-radius: 0
  &:checked:after
  	content: '\2714'
  	font-size: $font-size-basic
  	position: absolute
  	top: .4em
  	left: .5em
  	color: $color-black

input[type="number"]
  background: transparent
  width: 4em
  margin-top: -.8rem
  border-radius: 0

input[type="radio"]
  width: 1rem
  height: 1rem
  margin-right: 1rem
  background: transparent
  border-radius: 0
  &:checked
    background: $color-black

button
  appearance: none
  background: transparent
  border: none
  cursor: pointer
  font-family: $font-sans
  font-weight: normal
  border-radius: 0
  &:focus
    outline: none
    text-decoration: underline
  &:disabled
    cursor: default

a, button
  &.button
    background-color: $color-black
    padding: .4rem 3rem
    color: $color-white
    border: 1px solid transparent
    transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out
    will-change: color, background-color
    border-radius: 0
    &:disabled, &:disabled:hover
      background-color: $color-grey
      color: $color-white
    &:focus
      text-decoration: none
      border-color: $color-white

select
  font-family: $font-sans
  font-weight: normal
  border: none
  background: none
  outline: none

.thumb-holder
  overflow: hidden
  display: flex
  justify-content: center
  align-items: center
  width: 100%
  font-size: 0
  div
    width: 100%
    height: 100%
    background-position: center
    background-size: cover
  &.product-item-thumb-holder
    height: 170px
  &.scroll-slider-thumb-holder
    height: 88px
  &.search-result-thumb-holder
    height: 26vw
  &.further-reading-thumb-holder
    height: 26vw

.product-item-details
  padding-left: .5rem
  padding-right: .5rem

a:not(.button)
  will-change: color
  .thumb-holder div
    transition: transform 0.2s ease-in-out, opacity .3s ease-in-out
    will-change: transform, opacity
  *:not(img)
    will-change: color
  &:hover
    color: $color-grey
    .thumb-holder div
      transform: scale(1.1)
    *:not(img)
      color: $color-grey

.grid-item.grid-item-product
  padding-left: 2px !important
  padding-right: 2px !important

.gws-product
  .product-sold
    display: none
  .item-in-cart
    display: none
  &[data-gws-available='false']
    .product-sold
      display: block
    .product-price
      display: none
  &[data-gws-in-cart='true']
    .item-in-cart
      display: block
    .add-to-cart
      display: none

.gws-cart-thumb
  width: 200px
  height: 200px
  background-size: cover
  background-position: center

#cart-header, #cart-body, #cart-footer, #cart-empty
  display: none

[data-gws-cart-empty="false"]
  #cart-header, #cart-body, #cart-footer
    display: block
  #cart-empty
    display: none

[data-gws-cart-empty="true"]
  #cart-header, #cart-body, #cart-footer
    display: none
  #cart-empty
    display: block

.social-icon
  opacity: .4
  width: 22px
  &:hover
    opacity: 1
  &.social-icon-white
    display: none

.partner-logo
  max-width: 200px
  max-height: 125px
  width: auto
  height: auto

#popup-notice-holder
  position: fixed
  width: 100vw
  height: 100vh
  top: 0
  left: 0
  z-index: 900
  transition: opacity 200ms
  pointer-events: auto
  opacity: 1
  &.hide
    opacity: 0
    pointer-events: none

#popup-notice-overlay
  position: absolute
  background-color: $color-pale-transparent
  width: 100vw
  height: 100vh
  top: 0
  left: 0

#popup-notice
  background-color: $color-pale
  border: 1px solid $color-grey-dark
  width: 90vw
  min-width: 300px
  max-width: 700px
